!function(t){"use strict";({init:!1,_ini:function(){this.init||(this.init=!0,this._initEvents())},_initEvents:function(){this._loader(),this._detectMobile(),this._navigation(),this._convertBackground(),this._elems(),this._portfolio(),this._fotoramaPlugin(),this._contactForm(),this._subscriptionForm(),this._audioPlayer(),this._countDown()},_loader:function(){t(window).load(function(){})},_detectMobile:function(){/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?t("html").addClass("mobile"):t("html").addClass("no-mobile")},_navigation:function(){var e=t(".qlr-left-pos").html(),o=t(".qlr-right-pos").html(),a=(t("<ul/>",{class:"qlr-navigation-mobile"}).html(e+o).appendTo("nav"),function(){if(t(window).width()<=980){var e=t(window).height()-120;t(".qlr-navigation-mobile").css("max-height",e)}}),n=t("nav .qlr-search-form"),i=t(".qlr-navigation-mobile");t(".qlr-navigation-mobile").height()>t(window).height()-120&&t(".qlr-navigation-mobile").off("mousewheel DOMMouseScroll").on("mousewheel DOMMouseScroll",function(e){var o=null;(o=-1*e.originalEvent.wheelDelta)&&(e.stopPropagation(),e.preventDefault(),t(this).scrollTop(o+t(this).scrollTop()))}),t(window).bind("resize",function(){a()}).trigger("resize"),t("#qlr-navigation-btn").on("click",function(t){i.toggle(),n.hide(),t.preventDefault()}),t("#qlr-search-btn").on("click",function(t){n.toggle(),i.hide(),n.find('input[type="text"]').focus(),t.preventDefault()})},_convertBackground:function(){t("[data-background]").each(function(){t(this).css("background-image","url("+t(this).data("background")+")")})},_elems:function(){if(t(".qlr-models-carousel").each(function(){var e=t(this),o=parseInt(e.data("count-items")),a=(e.data("loop"),1===e.data("nav")),n=(e.data("dots"),1===e.data("autoplay")),i=1===e.data("timeout")?parseInt(e.data("timeout")):3e3;e.slick({infinite:!0,draggable:!1,speed:300,slidesToShow:3,centerMode:!0,focusOnSelect:!0,variableWidth:!0,arrows:a,autoplay:n,autoplaySpeed:i,prevArrow:"<div class='qlr-slick-control prev'></div>",nextArrow:"<div class='qlr-slick-control next'></div>",responsive:[{breakpoint:1024,settings:{slidesToShow:3}},{breakpoint:800,settings:{slidesToShow:2}},{breakpoint:480,settings:{slidesToShow:1,arrows:!1,dots:!1}}]}),e.slick("getSlick").slideCount<o&&e.slick("slickSetOption",{infinite:!1,slidesToShow:1}),e.on("setPosition",function(t,o,a){var n=o.currentSlide,i=o.$slides[n].classList;e.find("."+i[1]).addClass("qlr-show-content")}),e.on("beforeChange",function(t,o,a){var n=o.currentSlide,i=o.$slides[n].classList;e.find("."+i[1]).removeClass("qlr-show-content")}).on("setPosition"),e.on("afterChange",function(t,o,a){var n=o.currentSlide,i=o.$slides[n].classList;e.find("."+i[1]).addClass("qlr-show-content")}).on("setPosition")}),t(".qlr-slick-carousel").each(function(){var e=t(this),o=parseInt(e.data("count-items")),a=parseInt(e.data("num-cols")),n=1===e.data("loop"),i=1===e.data("nav"),r=1===e.data("dots"),s=1===e.data("autoplay"),l=1===e.data("timeout")?parseInt(e.data("timeout")):3e3;e.slick({infinite:n,slidesToShow:1===o?1:a,slidesToScroll:1,adaptiveHeight:!0,autoplay:s,autoplaySpeed:l,arrows:i,dots:r,draggable:!0,prevArrow:"<div class='qlr-slick-control prev'></div>",nextArrow:"<div class='qlr-slick-control next'></div>",responsive:[{breakpoint:1024,settings:{slidesToShow:1===o?1:a>3?3:a,slidesToScroll:1,draggable:!i}},{breakpoint:800,settings:{slidesToShow:1===o?1:a>2?2:a,slidesToScroll:1,draggable:!i}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1,arrows:!1,dots:!1,draggable:!0}}]})}),t("select, input[type=file]").each(function(){t(this).styler({selectSearch:!0,selectSearchNotFound:"No matches found",selectSearchPlaceholder:"Search here...",fileBrowse:"Choose file",filePlaceholder:"...",singleSelectzIndex:"1020"})}),t(window).width()>=1024){function e(){t("[data-background-ratio]").each(function(){var e=t(this).data("background-ratio");t(this).parallax("50%",e)})}t(window).bind("load",function(){e()}),e()}t(window).width()>=1024&&t(".video-background").each(function(){var e=t(this),o=t(window);e.css({marginTop:0}),t(window).on("scroll",function(){var t=o.scrollTop()/2;e.css({marginTop:t})})}),t(".nav-tabs li").on("click",function(){var e=t(this).children("a");t(".qlr-tab-content .qlr-tab-section").removeClass("in-active");var o=e.attr("href");return t(o).addClass("in-active"),t(".nav-tabs li").removeClass("active"),t(this).addClass("active"),!1}),t(".qlr-accordion-box").each(function(){var e=t(this);t(this).children(".qlr-accordion-header.in-opened").next(".qlr-accordion-content").show(),e.children(".qlr-accordion-header").on("click",function(){var o=t(this).next();return e.children(".qlr-accordion-header").removeClass("in-opened"),t(this).addClass("in-opened"),o.is(":visible")&&(t(this).removeClass("in-opened"),o.slideUp("fast")),o.is(":visible")||(e.children(".qlr-accordion-content").slideUp("fast"),o.slideDown("fast")),!1})}),t.fn.countTo=function(e){e=t.extend({},t.fn.countTo.defaults,e||{});var o=Math.ceil(e.speed/e.refreshInterval),a=(e.to-e.from)/o;return t(this).each(function(){var n=this,i=0,r=e.from,s=setInterval(function(){r+=a,i++,t(n).html(r.toFixed(e.decimals)),"function"==typeof e.onUpdate&&e.onUpdate.call(n,r),i>=o&&(clearInterval(s),r=e.to,"function"==typeof e.onComplete&&e.onComplete.call(n,r))},e.refreshInterval)})},t.fn.countTo.defaults={from:0,to:100,speed:2500,refreshInterval:50,decimals:0,onUpdate:null,onComplete:null},t(".qlr-counter-box").each(function(){var e=t(this),o=e.data("counter"),a=e.data("speed"),n=e.data("interval");e.children(".qlr-counter-value").children(".counter").countTo({to:o,speed:a,refreshInterval:n})})},_portfolio:function(){t(".qlr-models-list").each(function(){var e=t(this);e.imagesLoaded(function(){e.masonry({isAnimated:!0})})}),t.fn.qlr_magnificPopup_trigger=function(){var e=null;t(this).each(function(o,a){var n=t(a).attr("data-type-modal"),i=t(a).closest("[data-count-items]");"image"===n&&(e={delegate:"a.qlr-post-hover",type:"image",mainClass:"mfp-with-zoom"},t(a).magnificPopup(e)),"video"===n&&(e={delegate:"a.qlr-post-hover",disableOn:700,type:"iframe",mainClass:"mfp-with-zoom",removalDelay:160,preloader:!1,fixedContentPos:!1},t(a).magnificPopup(e)),"gallery"===n&&(e={delegate:"a.qlr-post-hover",type:"image",tLoading:"Loading image #%curr%...",mainClass:"mfp-with-zoom",gallery:{enabled:!0,navigateByImgClick:!0,tCounter:"%curr% / %total%",preload:[0,1]},image:{tError:'<a href="%url%">The image #%curr%</a> could not be loaded.'}},i.magnificPopup(e))})},t("[data-type-modal]").qlr_magnificPopup_trigger(),t(".qlr-portfolio").each(function(){function e(e,o){e.paged=o||1,t.ajax({type:"POST",url:e.ajax,data:{action:"qlr_portfolio_ajax",data:e},error:function(t,e,o){console.log(t,e,o)},success:function(e){var o=JSON.parse(e);s.append(o.content),s.masonry("reloadItems"),s.imagesLoaded(function(){s.masonry()}),t("[data-type-modal]").each(function(){t(this).qlr_magnificPopup_trigger()}),o.data?(r.attr("data-paged",o.data.current),r.find(".load-more-count").text(o.data.remaining)):r.remove()},complete:function(){n.children(".qlr-default").trigger("click")}})}function o(e,o){var a=e.masonry().masonry("getAllItems"),n=[],i=[];t.each(a,function(e){var r=a[e],s=t(r.element);o&&o.apply(s)?r.isHidden&&(r.isIgnored=!1,n.push(r)):r.isHidden||(r.isIgnored=!0,i.push(r))}),e.masonry("hide",i),e.masonry("reveal",n),function(t){setTimeout(function(){t.masonry("layout")},100)}(e)}var a=t(this),n=a.children(".qlr-portfolio-filter"),i=a.children(".qlr-options-portfolio"),r=a.children(".qlr-more-portfolio").children("a"),s=a.children(".qlr-portfolio-items"),l=JSON.parse(i.val());r.attr("data-paged",l.data.current),r.find(".load-more-count").text(l.data.remaining),r.on("click",function(){e(l,t(this).attr("data-paged"))}),s.imagesLoaded(function(){s.masonry({isAnimated:!0,itemSelector:"figure"})}),n.children("a").on("click",function(e){n.children("a").removeClass("qlr-default").addClass("qlr-invert"),t(this).removeClass("qlr-invert").addClass("qlr-default");var a=t(this).data("category");o(s,function(){return!a||"all"===a||-1!==t(this).data("category").indexOf(a)}),e.preventDefault()})})},_fotoramaPlugin:function(){t(".fotorama").on("fotorama:ready",function(e,o){function a(){return t(i).outerHeight(!0)}var n=t(this),i=o.activeFrame.html;n.children(".fotorama__wrap").css("height",a()+"px"),t(window).on("resize",function(){n.children(".fotorama__wrap").animate({height:a()+"px"},200)})}),t(".fotorama").on("fotorama:show",function(e,o){var a=t(this),n=o.activeFrame.html,i=t(n).outerHeight(!0);"dots"===o.options.nav&&a.find(".fotorama__nav-wrap").html(o.activeFrame.i+" / "+o.size),a.children(".fotorama__wrap").stop().animate({height:i+"px"},200),a.find(".fotorama__stage").stop().animate({height:i+"px"},200)})},_contactForm:function(){t(".qlr-contact-form").each(function(){function e(){var e=t(this),o=e.attr("src");e.attr("src",o)}var o=t(this);t(".captcha-code").on("click",e),o.submit(function(){var o=t(this),a=o.serialize(),n=o.children(".qlr-messages");return t.ajax({type:"POST",url:"php/contact.php",data:a,success:function(t){"OK"==t?(n.hide(),o[0].reset(),e()):n.show().html(t)}}),!1})})},_subscriptionForm:function(){t(".qlr-subscription-form").each(function(){t(this).submit(function(){var e=t(this),o=e.serialize(),a=e.children('input[type="text"]');return t.ajax({type:"POST",url:"php/subscription.php",data:o,success:function(o){"OK"==o?(a.removeClass("on-error"),e[0].reset()):a.addClass("on-error").delay(800).queue(function(e){t(this).removeClass("on-error"),e()})}}),!1})})},_audioPlayer:function(){t.fn.audioPlayer=function(e){var o,e=t.extend({},e),a=function(t){var e=Math.floor(t/3600),o=Math.floor(t%3600/60),a=Math.floor(t%3600%60);return(0==e?"":e>0&&e.toString().length<2?"0"+e+":":e+":")+(o.toString().length<2?"0"+o:o)+":"+(a.toString().length<2?"0"+a:a)};return this.each(function(){var e,n=t(this),i=!1;n.children("source").each(function(){return e=t(this).attr("src"),i=!0,!1});var r=t("<div/>",{class:"qlr-audio"}),s=t("<a/>",{href:"#0",class:"qlr-audio-actions"}).appendTo(r),l=t("<div/>",{class:"qlr-audio-body"}).insertAfter(s),d=t("<a/>",{href:"#0",class:"qlr-audio-bar"}).appendTo(l),c=t("<span/>",{class:"qlr-audio-played"}).appendTo(d),u=(t("<span/>",{class:"qlr-audio-loaded"}).insertAfter(c),t("<time/>",{datetime:""}).insertAfter(d)),h=t("<a/>",{href:"#0",class:"qlr-audio-volume-button"}).insertAfter(u),f=t("<a/>",{href:"#0",class:"qlr-audio-volume"}).insertAfter(h);t("<span/>").appendTo(f);n.before(r);var p=r.next("audio")[0];if(i){r.next("audio").css({position:"absolute",top:0,left:0,width:0,height:0,visibility:"hidden"});var m=r.find(".qlr-audio-bar"),v=r.find(".qlr-audio-played"),g=r.find(".qlr-audio-loaded"),q=r.find("time"),w=r.find(".qlr-audio-volume-button"),b=r.find(".qlr-audio-volume"),y=0,_=function(t){o=t.pageX||t.originalEvent.touches[0].pageX,p.currentTime=Math.round(p.duration*(o-m.offset().left)/m.width())},C=function(t){o=t.pageX||t.originalEvent.touches[0].pageX,p.volume=Math.abs((o-b.offset().left)/b.width()).toFixed(1)},S=setInterval(function(){p.buffered.length>0&&(p.duration>0&&g.width(p.buffered.end(0)/p.duration*100+"%"),p.buffered.end(0)>=p.duration&&clearInterval(S))},100),x=p.volume,k=p.volume=.111;Math.round(1e3*p.volume)/1e3==k?p.volume=x:r.addClass("qlr-audio-novolume"),q.text(a(0)).attr("datetime",a(0)),p.addEventListener("loadeddata",function(){b.find("span").width(100*p.volume+"%"),y=p.volume}),p.addEventListener("timeupdate",function(){q.text(a(p.duration-p.currentTime)).attr("datetime",a(p.duration-p.currentTime)),v.width(p.currentTime/p.duration*100+"%")}),p.addEventListener("volumechange",function(){b.find("span").width(100*p.volume+"%"),p.volume>0&&r.hasClass("qlr-audio-mute")&&r.removeClass("qlr-audio-mute"),p.volume<=0&&!r.hasClass("qlr-audio-mute")&&r.addClass("qlr-audio-mute")}),m.on("mousedown touchstart",function(t){_(t),m.on("mousemove touchmove",function(t){_(t)})}).on("mouseup touchend",function(){m.off("mousemove touchmove")}),w.on("click",function(){return r.hasClass("qlr-audio-mute")?(r.removeClass("qlr-audio-mute"),p.volume=y):(r.addClass("qlr-audio-mute"),y=p.volume,p.volume=0),!1}),b.on("mousedown touchstart",function(t){C(t),b.on("mousemove touchmove",function(t){C(t)})}).on("mouseup touchend",function(){b.off("mousemove touchmove")})}r.find(".qlr-audio-actions").on("click",function(){return r.hasClass("qlr-playing")?(r.removeClass("qlr-playing"),p.pause()):(r.addClass("qlr-playing"),p.play()),!1})}),this},t("audio").audioPlayer()},_countDown:function(){t(".qlr-countdown-timer").each(function(){var e=t(this),o=e.attr("data-timer");e.countdown(o,function(e){t(this).html(e.strftime('<li><div class="qlr-countdown-section"><span class="qlr-countdown-text">%D</span><span class="qlr-countdown-period">days</span></div></li><li><div class="qlr-countdown-section"><span class="qlr-countdown-text">%H</span><span class="qlr-countdown-period">hours</span></div></li><li><div class="qlr-countdown-section"><span class="qlr-countdown-text">%M</span><span class="qlr-countdown-period">minutes</span></div></li><li><div class="qlr-countdown-section"><span class="qlr-countdown-text">%S</span><span class="qlr-countdown-period">seconds</span></div></li>'))})})}})._ini()}(jQuery);